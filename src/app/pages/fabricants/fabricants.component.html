<div class="row m-0 px-0 mb-5">

	<div class="col-md-10 col-12 d-block mx-auto">
		<div class="text-center mb-5">
			<h1> Gestion des fabricants</h1>
		</div>
		<div class="px-md-5">
			<div class="mb-4 shadow-sm">
				<nz-collapse [nzBordered]="false">
					<nz-collapse-panel [nzHeader]="'Afficher les filtres'" [nzActive]="true">
						<div class="row my-3">
							<div class="col-4 pl-5">
									<nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
										<input type="text" nz-input nzAllowClear [nzAutocomplete]="auto"  (input)="sendFilter()"  placeholder="Rechercher un fabricant" [(ngModel)]="filter.keyword" />
									</nz-input-group>
									<nz-autocomplete #auto>
										<nz-auto-option *ngFor="let row of autocomplete" [nzValue]="row.nom">{{row.nom}}</nz-auto-option>
									  </nz-autocomplete>
									<ng-template #suffixIconButton>
										<button nz-button nzType="primary" nzSearch (click)="sendFilter()"><i nz-icon
												nzType="search"></i></button>
									</ng-template>
							</div>
							<div class="col">
								<div class="float-right">

									<button nz-button nzType="primary" (click)="onOpenCreate()">
										<i nz-icon nzType="plus"></i> Ajouter un fabricant</button>
								</div>
							</div>
						</div>
					</nz-collapse-panel>
				</nz-collapse>
			</div>
			<nz-table class="table">
				<thead (nzSortChange)="sort($event)">
					<tr>
						<th nzShowSort nzSortKey="codef" scope="col">Code</th>
						<th nzShowSort nzSortKey="nom">Nom</th>
						<th nzShowSort nzSortKey="pays">Pays</th>
						<th nzShowSort nzSortKey="ville">Ville</th>
						<th>Action</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let fabricant of fabricants?.data">
						<td style="border-bottom: 1px solid #fafafa;">{{fabricant.codef}}</td>
						<td style="border-bottom: 1px solid #fafafa;">{{fabricant.nom}}</td>
						<td style="border-bottom: 1px solid #fafafa;">{{fabricant.pays}}</td>
						<td style="border-bottom: 1px solid #fafafa;">{{fabricant.ville}}</td>
						<td><a><i nz-icon nzType="info-circle" (click)="openInfo(fabricant)" nzTheme="outline"></i></a></td>
					</tr>
				</tbody>
			</nz-table>
		</div>
		<nav class="float-right mt-2" aria-label="Page navigation example">
			<nz-pagination [nzPageIndex]="1" [nzTotal]="fabricants?.last_page" [nzSimple]="true"
				(nzPageIndexChange)="changePage($event)"></nz-pagination>


		</nav>
	</div>
</div>
